version: 0.1.0
provenance:
  created_by: { type: human, name: "" }
  created_at: 2025-10-28T12:34:56Z

intents:
  - kind: add_entity
    scope: data
    entity: User
    fields:
      - name: id
        type: uuid
        required: true
        unique: true
      - name: email
        type: string
        required: true
        unique: true

  - kind: add_relation
    scope: data
    relation:
      source_entity: Todo
      target_entity: User
      kind: many_to_one
      field_name: user_id
      foreign_key:
        local_field: user_id
        target_field: id
      reverse:
        kind: one_to_many
        field_name: todos
      emit_migration: true