version: 0.1.0
type: oiml.intent
ai_context:
  purpose: Conform to project frameworks, style, and conventions.
  instructions: |
    - Read .openintent/AGENTS.md and apply the instructions to the intent.
  references:
    - kind: file
      path: .openintent/AGENTS.md
provenance:
  created_by:
    type: human
    name: ""
  created_at: 2025-11-17T23:52:24Z
intents: 
  - kind: add_entity
    scope: data
    entity: Comment
    fields:
      - name: id
        type: uuid
        required: true
      - name: content
        type: string
        required: true
      - name: created_at
        type: datetime
        required: true
        default: now
      - name: post_id
        type: uuid
        required: true
      - name: user_id
        type: uuid
        required: true

  - kind: add_relation
    scope: data
    relation:
      source_entity: Comment
      target_entity: Post
      kind: many_to_one
      field_name: post_id
      foreign_key:
        local_field: post_id
        target_field: id
      reverse:
        kind: one_to_many
        field_name: comments

  - kind: add_relation
    scope: data
    relation:
      source_entity: Comment
      target_entity: User
      kind: many_to_one
      field_name: user_id
      foreign_key:
        local_field: user_id
        target_field: id
      reverse:
        kind: one_to_many
        field_name: comments